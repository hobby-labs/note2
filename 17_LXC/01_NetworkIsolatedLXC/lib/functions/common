# Function to setup LXC_PATH environment variable and LXC_BASE_DIR, NS_NAME if not set.
setup_lxc_environment_variables() {
    local lxc_base_dir="$1"
    local name_space="$2"
        
    if [[ -z "${LXC_BASE_DIR}" ]]; then 
        if [[ -z "${lxc_base_dir}" ]]; then
            logger.error "LXC_PATH environment variable or --lxc-base-dir option (LXC_BASE_DIR environment variable) is required" >&2
            return 1
        else
            export LXC_BASE_DIR="${lxc_base_dir}"
        fi
    fi
    
    if [[ -z "${NS_NAME}" ]]; then
        if [[ -z "${name_space}" ]]; then
            logger.error "LXC_PATH environment variable or --ns-name option (NS_NAME environment variable) is required" >&2
            return 1
        else
            export NS_NAME="${name_space}"
        fi
    fi

    # If LXC_PATH is not set, set it
    if [[ -z "${LXC_PATH}" ]]; then
        export LXC_PATH="${LXC_BASE_DIR}/${NS_NAME}"
    fi

    # If LXC_BASE_IMAGE_DIR is not set, set it
    if [[ -z "${LXC_BASE_IMAGE_DIR}" ]]; then
        # LXC_BASE_IMAGE_DIR is a directory to store base images for cloning.
        # This location of storing base image is located among all namespaces.
        export LXC_BASE_IMAGE_DIR="${LXC_BASE_DIR}/_base_images_"
    fi

    return 0
}